import{j as e,S as f,N as n,I,T as z,h}from"./index-f7c4dfad.js";import{e as F,C as U}from"./rhf-autocomplete-204470f7.js";import{R as C,U as w}from"./upload-1fbeb8f8.js";import{u as P}from"./preview-multi-file-bce21d5d.js";import{I as A}from"./image-f9ea5de7.js";import"./numeral-b65a1435.js";import{F as R}from"./TextField-5cd6dfc4.js";function D({error:d,file:o,disabled:a,helperText:i,sx:c,...s}){const{getRootProps:r,getInputProps:x,isDragActive:u,isDragReject:g,fileRejections:m}=P({multiple:!1,disabled:a,accept:{"image/*":[]},...s}),l=!!o,p=g||!!d,j=typeof o=="string"?o:o==null?void 0:o.preview,v=l&&e.jsx(A,{alt:"avatar",src:j,sx:{width:1,height:1,borderRadius:"50%"}}),y=e.jsxs(f,{alignItems:"center",justifyContent:"center",spacing:1,className:"upload-placeholder",sx:{top:0,left:0,width:1,height:1,zIndex:9,borderRadius:"50%",position:"absolute",color:"text.disabled",bgcolor:t=>n(t.palette.grey[500],.08),transition:t=>t.transitions.create(["opacity"],{duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72},...p&&{color:"error.main",bgcolor:t=>n(t.palette.error.main,.08)},...l&&{zIndex:9,opacity:0,color:"common.white",bgcolor:t=>n(t.palette.grey[900],.64)}},children:[e.jsx(I,{icon:"fluent:camera-add-24-filled",width:32}),e.jsx(z,{variant:"caption",children:o?"Update photo":"Upload photo"})]}),b=e.jsxs(h,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[v,y]});return e.jsxs(e.Fragment,{children:[e.jsxs(h,{...r(),sx:{p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:t=>`1px dashed ${n(t.palette.grey[500],.2)}`,...u&&{opacity:.72},...a&&{opacity:.48,pointerEvents:"none"},...p&&{borderColor:"error.main"},...l&&{...p&&{bgcolor:t=>n(t.palette.error.main,.08)},"&:hover .upload-placeholder":{opacity:1}},...c},children:[e.jsx("input",{...x()}),b]}),i&&i,e.jsx(C,{fileRejections:m})]})}function E({error:d,file:o,disabled:a,helperText:i,sx:c,...s}){const{getRootProps:r,getInputProps:x,isDragActive:u,isDragReject:g,fileRejections:m}=P({multiple:!1,disabled:a,accept:{"image/*":[]},...s}),l=!!o,p=g||!!d,j=typeof o=="string"?o:o==null?void 0:o.preview,v=l&&e.jsx(A,{alt:"avatar",src:j,sx:{width:1,height:1,borderRadius:1}}),y=e.jsx(f,{alignItems:"center",justifyContent:"center",spacing:1,className:"upload-placeholder",sx:{top:0,left:0,width:1,height:1,zIndex:9,borderRadius:1,position:"absolute",color:"text.disabled",bgcolor:t=>n(t.palette.grey[500],.08),transition:t=>t.transitions.create(["opacity"],{duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72},...p&&{color:"error.main",bgcolor:t=>n(t.palette.error.main,.08)},...l&&{zIndex:9,opacity:0,color:"common.white",bgcolor:t=>n(t.palette.grey[900],.64)}},children:e.jsx(I,{icon:"fluent:camera-add-24-filled",width:20})}),b=e.jsxs(h,{sx:{width:1,height:1,overflow:"hidden",borderRadius:1,position:"relative"},children:[v,y]});return e.jsxs(e.Fragment,{children:[e.jsxs(h,{...r(),sx:{p:0,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:t=>`1px dashed ${n(t.palette.grey[500],.2)}`,...u&&{opacity:.72},...a&&{opacity:.48,pointerEvents:"none"},...p&&{borderColor:"error.main"},...l&&{...p&&{bgcolor:t=>n(t.palette.error.main,.08)},"&:hover .upload-placeholder":{opacity:1},border:"None"},...c},children:[e.jsx("input",{...x()}),b]}),i&&i,e.jsx(C,{fileRejections:m})]})}function G({name:d,rectangular:o,...a}){const{control:i}=F();return e.jsx(U,{name:d,control:i,render:({field:c,fieldState:{error:s}})=>e.jsxs("div",{children:[o&&e.jsx(E,{error:!!s,file:c.value,...a}),!o&&e.jsx(D,{error:!!s,file:c.value,...a}),!!s&&e.jsx(R,{error:!0,sx:{px:2,textAlign:"center"},children:s.message})]})})}function J({name:d,multiple:o,helperText:a,...i}){const{control:c}=F();return e.jsx(U,{name:d,control:c,render:({field:s,fieldState:{error:r}})=>o?e.jsx(w,{multiple:!0,accept:{"image/*":[]},files:s.value,error:!!r,helperText:(!!r||a)&&e.jsx(R,{error:!!r,sx:{px:2},children:r?r==null?void 0:r.message:a}),...i}):e.jsx(w,{accept:{"image/*":[]},file:s.value,error:!!r,helperText:(!!r||a)&&e.jsx(R,{error:!!r,sx:{px:2},children:r?r==null?void 0:r.message:a}),...i})})}export{G as R,J as a};
