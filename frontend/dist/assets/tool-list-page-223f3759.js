import{a as $,b as N,j as e,t as re,S as f,A as q,L as ie,T as W,f as G,c as le,d as U,I,C as M,M as ce,B as z,e as de,g as X,r as p,p as Y,h as L,i as xe,k as he,u as pe,l as Z,P as me,m as ue,D as ge,s as fe,n as je,o as be,q as we,v as Ce,W as ye,w as ve}from"./index-f7c4dfad.js";import{L as De,u as Te,a as ke,b as Se,d as J,_ as Re}from"./tool-f255544f.js";import{L as ee,_ as Ae}from"./plus-fill-f9c9dd5d.js";import{C as ze,a as te,f as B}from"./confirm-dialog-e205398d.js";import{T as Ie}from"./knowledge-9078246a.js";import{E as Pe}from"./image-f9ea5de7.js";import{C as Fe,S as Le}from"./SkeletonBoxTable-cedfa69a.js";import{T as We,a as Oe,e as $e,b as Ee,c as Be,_ as _e,s as se,C as He,u as Ne,g as Me}from"./custom-date-range-picker-998109e2.js";import{T as Ue,g as qe}from"./user-ea221cef.js";import{_ as Ge}from"./more-horizontal-fill-3cef82a0.js";import{u as Je}from"./use-double-click-598668f8.js";import{L as Ke,I as Ve,C as Qe}from"./numeral-b65a1435.js";import{T as Xe,a as A,f as Ye,b as Ze,c as et,d as tt}from"./file-thumbnail-ebe9c7d7.js";import{C as O,D as st,a as at,b as ot}from"./DialogContent-12fa3194.js";import{A as nt}from"./AvatarGroup-b5aeb853.js";import{T as rt}from"./TextField-5cd6dfc4.js";import{c as it,a as K,b as lt,d as ct,u as dt,F as xt,R as ht,o as pt}from"./rhf-autocomplete-204470f7.js";import{f as mt}from"./format-number-ad5a4a25.js";import{R as ut}from"./rhf-upload-aff1832d.js";import{R as V}from"./rhf-text-field-2f3dfe59.js";import"./index-8fda52a8.js";import"./upload-1fbeb8f8.js";import"./preview-multi-file-bce21d5d.js";import"./fade-295cf198.js";import"./transition-bee6630b.js";import"./coming-soon-image-464dfa9d.js";function gt({row:t,dense:o,selected:l,onEditRow:s,onSelectRow:a,onDeleteRow:y}){const{name:j,cover:w,description:m,createdAt:u,modifiedAt:n,shared:c,tags:i}=t,C=$(),v=$(),D=N(),d=Je({doubleClick:s});return e.jsxs(e.Fragment,{children:[e.jsxs(Xe,{selected:l,sx:{...C.value&&{[`& .${re.root}`]:{color:"text.primary",typography:"subtitle2",bgcolor:"background.default"}}},children:[e.jsx(A,{sx:{pl:2,maxWidth:50,minWidth:40,...!o&&{py:1.5}},children:e.jsx(ze,{checked:l,onClick:a})}),e.jsx(A,{sx:{pr:0,minWidth:120,maxWidth:160,...!o&&{py:1.5}},onClick:d,children:e.jsxs(f,{direction:"row",sx:{mr:0,width:"100%",alignItems:"center"},children:[e.jsx(q,{src:w,alt:j,sx:{width:o?28:38,height:o?28:38,borderRadius:o?.75:1,mr:2},children:j.charAt(0).toUpperCase()||""}),e.jsx(De,{sx:{width:"100%"},disableTypography:!0,primary:e.jsx(ie,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:s,sx:{width:"100%",maxWidth:"100%",display:"block",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:j})})]})}),e.jsx(A,{align:"left",onClick:d,sx:{minWidth:160,maxWidth:300,...!o&&{py:1.5}},children:e.jsx(W,{variant:"body2",color:"text.secondary",sx:{fontSize:13,lineHeight:1.5,cursor:"pointer",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:o?1:2},children:m||""})}),e.jsx(A,{align:"left",onClick:d,sx:{color:"text.primary",whiteSpace:"nowrap",...!o&&{py:1.5}},children:e.jsx(Ke,{variant:"soft",color:t.status==="published"&&"success"||"warning",children:t.status})}),e.jsx(A,{onClick:d,sx:{minWidth:140,maxWidth:180,whiteSpace:"nowrap",...!o&&{py:1.5}},children:e.jsxs(f,{direction:"row",spacing:1,alignItems:"baseline",children:[e.jsx(W,{variant:"body2",children:G(new Date(u),"dd MMM yyyy")}),e.jsx(W,{variant:"caption",color:"text.secondary",children:G(new Date(u),"p")})]})}),e.jsx(A,{align:"center",onClick:d,sx:{maxWidth:140,color:"text.primary",whiteSpace:"nowrap",...!o&&{py:1.5}},children:i&&i.length>0&&e.jsx(f,{direction:"row",spacing:.5,children:!!i&&e.jsxs(f,{direction:"row",spacing:.5,children:[e.jsx(O,{size:"small",color:"primary",variant:"soft",label:i[0],sx:{height:23,textTransform:"capitalize"}}),i.length>1&&e.jsx(O,{size:"small",color:"primary",variant:"soft",label:`+${i.length-1}`,sx:{height:23,textTransform:"capitalize"}})]})})}),e.jsx(A,{align:"left",onClick:d,sx:{color:"text.primary",minWidth:90,maxWidth:120,whiteSpace:"nowrap",...!o&&{py:1.5}},children:Ye(new Date(n),{addSuffix:!0})}),e.jsx(A,{align:"right",onClick:d,sx:{minWidth:110,maxWidth:120,...!o&&{py:1.5}},children:e.jsx(nt,{max:4,sx:{display:"inline-flex",[`& .${le.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:c&&c.map(x=>e.jsx(q,{alt:x.name,src:x.photo?x.photo:x.avatarUrl},x.id))})}),e.jsx(A,{align:"right",sx:{px:1,pr:2,whiteSpace:"nowrap",...!o&&{py:1.5}},children:e.jsx(U,{color:D.open?"inherit":"default",onClick:D.onOpen,children:e.jsx(I,{icon:Ge})})})]}),e.jsx(M,{open:D.open,onClose:D.onClose,arrow:"right-top",sx:{width:160},children:e.jsxs(ce,{onClick:()=>{v.onTrue(),D.onClose()},sx:{color:"error.main"},children:[e.jsx(I,{icon:"gravity-ui:trash-bin",width:18}),"Delete"]})}),e.jsx(te,{open:v.value,onClose:v.onFalse,title:"Delete?",content:"Are you sure to delete?",action:e.jsx(z,{variant:"contained",color:"error",onClick:y,children:"Delete"})})]})}const ft=[{id:"name",label:"Name",width:200},{id:"description",label:"Description",width:280},{id:"status",label:"Status",width:100},{id:"createdAt",label:"Created",width:140},{id:"tags",label:"Tags",align:"left",width:120},{id:"modifiedAt",label:"Modified",width:90},{id:"shared",label:"Modified by",align:"right",width:100},{id:"",width:60}];function jt({table:t,tableData:o,notFound:l,onDeleteRow:s,dataFiltered:a,onOpenConfirm:y}){const j=de(),w=X(),{dense:m,page:u,order:n,orderBy:c,rowsPerPage:i,selected:C,onSelectRow:v,onSelectAllRows:D,onSort:d,onChangeDense:x,onChangePage:b,onChangeRowsPerPage:T}=t,S=m?52:64,r=p.useCallback(h=>{w.push(Y.gbbai.function.details(h))},[w]);return e.jsxs(e.Fragment,{children:[e.jsxs(L,{sx:{position:"relative",mx:0,mt:-2},children:[e.jsx(Ue,{dense:m,sx:{px:2},numSelected:C.length,rowCount:a.length,checkboxMl:0,denseCheckboxMl:0,onSelectAllRows:h=>D(h,a.map(g=>g.id)),action:e.jsx(xe,{title:"Delete",children:e.jsx(U,{size:"small",color:"error",onClick:y,children:e.jsx(I,{icon:"gravity-ui:trash-bin",width:18})})})}),e.jsx(Ze,{children:e.jsxs(et,{size:m?"small":"medium",sx:{minWidth:960},children:[e.jsx(We,{dense:m,order:n,orderBy:c,headLabel:ft,rowCount:a.length,numSelected:C.length,checkboxMl:1.1,onSort:d,onSelectAllRows:h=>D(h,a.map(g=>g.id))}),e.jsxs(tt,{children:[a.slice(u*i,u*i+i).map(h=>e.jsx(gt,{row:h,dense:m,selected:C.includes(h.id),onEditRow:()=>r(h.id),onSelectRow:()=>v(h.id),onDeleteRow:()=>s(h.id)},h.id)),e.jsx(Oe,{height:S,emptyRows:$e(u,i,o.length)}),e.jsx(Ee,{notFound:l,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${j.palette.divider}`}})]})]})})]}),e.jsx(Be,{count:a.length,page:u,rowsPerPage:i,onPageChange:b,onRowsPerPageChange:T,dense:m,onChangeDense:x,sx:{[`& .${he.toolbar}`]:{borderTopColor:"transparent"}}})]})}function bt({openDateRange:t,onCloseDateRange:o,onOpenDateRange:l,filters:s,onFilters:a,dateError:y,tagOptions:j,statusOptions:w}){const m=N(),u=N(),n=p.useCallback(r=>{a("name",r.target.value)},[a]),c=p.useCallback(r=>{a("startDate",r)},[a]),i=p.useCallback(r=>{a("endDate",r)},[a]),C=p.useCallback(r=>{const h=s.statuses.includes(r)?s.statuses.filter(g=>g!==r):[...s.statuses,r];a("statuses",h)},[s.statuses,a]),v=p.useCallback(()=>{u.onClose(),a("statuses",[])},[a,u]),D=p.useCallback(r=>{const h=s.tags.includes(r)?s.tags.filter(g=>g!==r):[...s.tags,r];a("tags",h)},[s.tags,a]),d=p.useCallback(()=>{m.onClose(),a("tags",[])},[a,m]),x=e.jsx(rt,{size:"small",value:s.name,onChange:n,placeholder:"Search",InputProps:{startAdornment:e.jsx(Ve,{position:"start",children:e.jsx(I,{icon:_e,sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:220}}}),b=e.jsxs(e.Fragment,{children:[e.jsx(z,{size:"small",variant:"soft",color:"inherit",onClick:m.onOpen,endIcon:e.jsx(I,{icon:m.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{px:1.5,py:2,borderRadius:8},children:"Tags"}),e.jsx(M,{open:m.open,onClose:m.onClose,sx:{p:2.5},children:e.jsxs(f,{spacing:2.5,children:[e.jsx(L,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:j.map(r=>{const h=s.tags.includes(r);return e.jsx(f,{spacing:1,direction:"row",alignItems:"center",onClick:()=>D(r),sx:{px:1.75,py:1.25,borderRadius:20,cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",textTransform:"capitalize",border:g=>`1px solid ${g.palette.divider}`,...h&&{border:g=>`1px solid ${g.palette.info.dark}`,boxShadow:g=>`inset 0 0 0 1px ${g.palette.info.dark}`}},children:e.jsx(W,{variant:"subtitle2",fontSize:"13px",lineHeight:1,children:r})},r)})}),e.jsx(f,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:e.jsx(z,{size:"small",variant:"contained",color:"inherit",onClick:d,children:"Clear"})})]})})]}),T=e.jsxs(e.Fragment,{children:[e.jsx(z,{size:"small",variant:"soft",color:"inherit",onClick:u.onOpen,endIcon:e.jsx(I,{icon:u.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{px:1.5,py:2,borderRadius:8},children:"Status"}),e.jsx(M,{open:u.open,onClose:u.onClose,sx:{p:2.5},children:e.jsxs(f,{spacing:2.5,children:[e.jsx(L,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:w.map(r=>{const h=s.statuses.includes(r);return e.jsx(f,{spacing:1,direction:"row",alignItems:"center",onClick:()=>C(r),sx:{px:1.75,py:1.25,borderRadius:20,cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",textTransform:"capitalize",border:g=>`1px solid ${g.palette.divider}`,...h&&{border:g=>`1px solid ${g.palette.info.dark}`,boxShadow:g=>`inset 0 0 0 1px ${g.palette.info.dark}`}},children:e.jsx(W,{variant:"subtitle2",fontSize:"13px",lineHeight:1,children:r})},r)})}),e.jsx(f,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:e.jsx(z,{size:"small",variant:"contained",color:"inherit",onClick:v,children:"Clear"})})]})})]}),S=e.jsxs(e.Fragment,{children:[e.jsx(z,{size:"small",variant:"soft",color:"inherit",onClick:l,endIcon:e.jsx(I,{icon:t?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{px:1.5,py:2,borderRadius:8},children:s.startDate&&s.endDate?se(s.startDate,s.endDate):"Created"}),e.jsx(He,{variant:"calendar",startDate:s.startDate,endDate:s.endDate,onChangeStartDate:c,onChangeEndDate:i,open:t,onClose:o,selected:!!s.startDate&&!!s.endDate,error:y})]});return e.jsxs(f,{spacing:2,sx:{width:{xs:1,md:"auto"}},direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[x,e.jsxs(f,{flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:{xs:2,md:1},children:[S,b,T]})]})}const wt=fe("div")(({theme:t})=>({right:0,bottom:0,zIndex:1999,minHeight:440,outline:"none",display:"flex",position:"fixed",flexDirection:"row",margin:t.spacing(3),boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper}));function Ct({open:t,onClose:o}){const l=X(),{user:s}=pe(),{enqueueSnackbar:a}=Z(),[y,j]=p.useState(!1),[w,m]=p.useState(Date.now()),u=it().shape({name:K().required("Tool name is required"),description:K(),tags:lt(),cover:ct().nullable()}),n={name:`Tool-${w}`,description:"",tags:[],cover:null},c=dt({resolver:pt(u),defaultValues:n}),{reset:i,setValue:C,handleSubmit:v}=c;p.useEffect(()=>{t&&(m(Date.now()),i(n))},[t,i]);const D=v(async x=>{try{const b=await qe(s==null?void 0:s.photoURL),T=Te(),S={id:"1",name:(s==null?void 0:s.displayName)||"Anonymous",email:(s==null?void 0:s.username)||"Anonymous",photo:b||"",permission:"edit",avatarUrl:b?"":"/assets/avatars/avatar_1.jpg"};j(!0);const r=new FormData;let h="";x.cover&&typeof x.cover!="string"&&(r.append("file",x.cover),h=`${T}.${x.cover.name.split(".").pop()||"jpg"}`);const g={...x,id:T,cover:h,type:"Python",status:"draft",shared:[S],createdAt:new Date,modifiedAt:new Date},_=JSON.stringify(g);r.append("toolData",_),await ke(r).then(P=>{P&&P.success?(a("Tool created",{variant:"success"}),o(),l.push(Y.gbbai.function.details(T))):a(P.message,{variant:"error"})}).catch(P=>{a(P,{variant:"error"}),console.error("An error occurred while uploading the tool:",P)}),j(!1)}catch(b){a(b,{variant:"error"})}}),d=p.useCallback(x=>{const b=x[0],T=Object.assign(b,{preview:URL.createObjectURL(b)});b&&C("cover",T,{shouldValidate:!0})},[C]);return e.jsx(me,{children:e.jsx(Fe,{onClickAway:()=>{},children:e.jsx(st,{open:t,onClose:o,children:e.jsx(wt,{sx:{top:0,left:0,display:"flex",margin:"auto",width:{xs:"90%",md:"55%",lg:"45%"},height:{xs:"90vh",md:"80vh"},maxWidth:600},children:e.jsxs(f,{sx:{width:"100%"},children:[e.jsx(Qe,{title:"Create tool",sx:{mb:1.5}}),e.jsx(ue,{sx:{flexDirection:"row"},children:e.jsx(xt,{methods:c,onSubmit:D,children:e.jsx(L,{sx:{mx:3,mt:2,mb:2},children:e.jsx(f,{sx:{mt:1,mb:3},spacing:3,children:e.jsxs(L,{sx:{display:"grid",gap:3,gridTemplateColumns:"repeat(1, 1fr)"},children:[e.jsx(ut,{rectangular:!0,name:"cover",maxSize:3245728,onDrop:d,sx:{width:52,height:52,borderRadius:1},helperText:e.jsxs(W,{variant:"caption",sx:{mt:2,mb:.5,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Upload tool icon (optional)",e.jsx("br",{})," Allowed *.jpeg, *.jpg, *.png (max size of ",mt(3245728),")"]})}),e.jsx(V,{name:"name",label:"Name (required)",fullWidth:!0,size:"medium"}),e.jsx(ht,{size:"medium",name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,autoSelect:!0,options:[],getOptionLabel:x=>x,renderOption:(x,b)=>p.createElement("li",{...x,key:b},b),renderTags:(x,b)=>x.map((T,S)=>p.createElement(O,{...b({index:S}),key:T,label:T,size:"small",color:"info",variant:"soft"}))}),e.jsx(V,{name:"description",label:"Description",multiline:!0,rows:3})]})})})})}),e.jsx(ge,{}),e.jsxs(at,{children:[e.jsx(ee,{loading:y,type:"submit",variant:"contained",onClick:D,children:"Confirm"}),e.jsx(z,{variant:"outlined",color:"inherit",onClick:o,children:"Cancel"})]})]})})})})})}function yt({filters:t,onFilters:o,canReset:l,onResetFilters:s,results:a,...y}){const j=se(t.startDate,t.endDate),w=n=>{const c=t.tags.filter(i=>i!==n);o("tags",c)},m=n=>{const c=t.statuses.filter(i=>i!==n);o("statuses",c)},u=()=>{o("startDate",null),o("endDate",null)};return e.jsxs(f,{spacing:1.5,...y,direction:"row",alignItems:"center",children:[e.jsxs(L,{sx:{typography:"body2"},children:[e.jsx("strong",{children:a}),e.jsx(L,{component:"span",sx:{color:"text.secondary",ml:.75},children:"found"})]}),e.jsxs(f,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.tags.length&&e.jsx(H,{label:"Tags:",children:t.tags.map(n=>e.jsx(O,{label:n,size:"small",sx:{textTransform:"capitalize"},onDelete:()=>w(n)},n))}),!!t.statuses.length&&e.jsx(H,{label:"Statuses:",children:t.statuses.map(n=>e.jsx(O,{label:n,size:"small",sx:{textTransform:"capitalize"},onDelete:()=>m(n)},n))}),t.startDate&&t.endDate&&e.jsx(H,{label:"Date:",sx:{py:.75,px:.75},children:e.jsx(O,{size:"small",label:j,onDelete:u})}),l&&e.jsx(z,{size:"small",color:"error",onClick:s,startIcon:e.jsx(I,{icon:"gravity-ui:trash-bin",width:18}),children:"Clear"})]})]})}function H({label:t,children:o,sx:l,...s}){return e.jsxs(f,{component:je,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...l},...s,children:[e.jsx(L,{component:"span",sx:{typography:"subtitle2"},children:t}),e.jsx(f,{spacing:1,direction:"row",flexWrap:"wrap",children:o})]})}const vt=e.jsx(Le,{rowNumber:5,sx:{mb:3}}),Q={name:"",tags:[],statuses:[],startDate:null,endDate:null};function Dt({refreshKey:t}){const{enqueueSnackbar:o}=Z(),l=Ne({defaultRowsPerPage:10}),s=$(),a=$(),y=$(),{tools:j,refetch:w,toolsLoading:m,toolsEmpty:u,toolsRefetching:n}=Se(),c=m||n,[i,C]=p.useState(!1),[v,D]=p.useState(j),[d,x]=p.useState(Q),b=Array.from(new Set(j.map(F=>F.tags).flat())),T=d.startDate&&d.endDate?d.startDate.getTime()>d.endDate.getTime():!1,S=Tt({inputData:v,comparator:Me(l.order,l.orderBy),filters:d,dateError:T}),r=!!d.name||!!d.tags.length||!!d.statuses.length||!!d.startDate&&!!d.endDate,h=!S.length&&r||!S.length;p.useEffect(()=>{!c&&!u&&D(j)},[u,j,c]),p.useEffect(()=>{t>0&&w()},[w,t]);const g=p.useCallback((F,R)=>{l.onResetPage(),x(k=>({...k,[F]:R}))},[l]),_=p.useCallback(async()=>{const F=v.filter(R=>l.selected.includes(R.id));F.length!==0&&(C(!0),Promise.all(F.map(R=>J(R.id))).then(R=>{C(!1);const k=R.filter(E=>!E||!E.success);k.length===0?(o("Deleted successfully"),l.setSelected([]),a.onFalse(),w()):k.forEach(E=>{o(E.message,{variant:"error"})})}).catch(R=>{C(!1),console.error(R),o("An error occurred while deleting",{variant:"error"})}))},[l,a,i,v]),P=p.useCallback(async F=>{const R=v.filter(k=>k.id===F)[0];try{C(!0);const k=await J(R.id);C(!1),k&&k.success?(l.setSelected([]),o("Deleted successfully"),w(),a.onFalse()):k&&!k.success&&o(k.message,{variant:"error"})}catch(k){C(!1),o(k,{variant:"error"})}},[l,a,v]),ae=p.useCallback(()=>{x(Q)},[]),oe=e.jsx(bt,{openDateRange:y.value,onCloseDateRange:y.onFalse,onOpenDateRange:y.onTrue,filters:d,onFilters:g,dateError:T,statusOptions:Ie,tagOptions:b}),ne=e.jsx(yt,{filters:d,onResetFilters:ae,canReset:r,onFilters:g,results:S.length});return e.jsxs(ot,{children:[e.jsxs(f,{spacing:2.5,sx:{mt:{xs:3,md:2.5},mb:{xs:3,md:3},mx:3},children:[e.jsxs(f,{alignItems:"center",justifyContent:"space-between",direction:{xs:"column",md:"row"},children:[oe,e.jsx(z,{size:"small",variant:"contained",startIcon:e.jsx(be,{icon:Ae}),onClick:s.onTrue,sx:{px:1,mt:{xs:1.75,md:0},alignSelf:{xs:"end",md:"auto"}},children:"Tool"})]}),r&&ne]}),c&&vt,!c&&e.jsx(e.Fragment,{children:h?e.jsx(Pe,{filled:!0,title:"No Data",sx:{py:8,m:3}}):e.jsx(jt,{table:l,tableData:v,dataFiltered:S,onDeleteRow:P,notFound:h,onOpenConfirm:a.onTrue})}),e.jsx(Ct,{open:s.value,onClose:s.onFalse}),e.jsx(te,{open:a.value,onClose:a.onFalse,title:"Delete?",content:e.jsxs(e.Fragment,{children:["Are you sure to delete ",e.jsxs("strong",{children:[" ",l.selected.length," "]})," items?"]}),action:e.jsx(ee,{variant:"contained",loading:i,color:"error",onClick:()=>{_()},children:"Delete"})})]})}function Tt({inputData:t,comparator:o,filters:l,dateError:s}){const{name:a,tags:y,statuses:j,startDate:w,endDate:m}=l,u=t.map((n,c)=>[n,c]);return u.sort((n,c)=>{const i=o(n[0],c[0]);return i!==0?i:n[1]-c[1]}),t=u.map(n=>n[0]),a&&(t=t.filter(n=>n.name.toLowerCase().indexOf(a.toLowerCase())!==-1)),y.length&&(t=t.filter(n=>{var c;return(c=n.tags)==null?void 0:c.some(i=>y.includes(i))})),j.length&&(t=t.filter(n=>j.includes(n.status.toLowerCase()))),s||w&&m&&(t=t.filter(n=>B(n.createdAt)>=B(w)&&B(n.createdAt)<=B(m))),t}function Yt(){const{t}=we(),o=Ce(),[l,s]=p.useState(0),a=p.useCallback(()=>{s(Date.now())},[]);return e.jsxs(e.Fragment,{children:[e.jsx(ye,{children:e.jsx("title",{children:" GBB/AI: Tools"})}),e.jsxs(ve,{maxWidth:o.themeStretch?!1:"xl",children:[e.jsxs(f,{sx:{mb:2.5},direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(W,{variant:"h4",textTransform:"capitalize",children:t("tools")}),e.jsx(U,{size:"small",onClick:a,sx:{width:32,height:32,color:"inherit"},children:e.jsx(I,{icon:Re})})]}),e.jsx(Dt,{refreshKey:l})]})]})}export{Yt as default};
