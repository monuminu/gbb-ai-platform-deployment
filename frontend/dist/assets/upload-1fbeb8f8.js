import{j as e,n as B,N as i,h as s,T as h,S as x,d as A,I as u,B as j}from"./index-f7c4dfad.js";import{u as E,M}from"./preview-multi-file-bce21d5d.js";import{U as W}from"./coming-soon-image-464dfa9d.js";import{f as N}from"./format-number-ad5a4a25.js";import{h as T}from"./file-thumbnail-ebe9c7d7.js";import{I as $}from"./image-f9ea5de7.js";function q({fileRejections:t}){return t.length?e.jsx(B,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:n=>i(n.palette.error.main,.08)},children:t.map(({file:n,errors:l})=>{const{path:a,size:o}=T(n);return e.jsxs(s,{sx:{my:1},children:[e.jsxs(h,{variant:"subtitle2",noWrap:!0,children:[a," - ",o?N(o):""]}),l.map(c=>e.jsxs(s,{component:"span",sx:{typography:"caption"},children:["- ",c.message]},c.code))]},a)})}):null}function G({imgUrl:t=""}){return e.jsx(s,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:e.jsx($,{alt:"file preview",src:t,sx:{width:1,height:1,borderRadius:1}})})}function V({disabled:t,multiple:n=!1,error:l,helperText:a,file:o,onDelete:c,files:p,thumbnail:y,onUpload:m,onRemove:v,onRemoveAll:g,sx:f,...w}){const{getRootProps:b,getInputProps:I,isDragActive:P,isDragReject:C,fileRejections:D}=E({multiple:n,disabled:t,...w}),d=!!o&&!n,R=!!p&&n&&!!p.length,S=C||!!l,z=e.jsxs(x,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[e.jsx(W,{sx:{width:1,maxWidth:200}}),e.jsxs(x,{spacing:1,sx:{textAlign:"center"},children:[e.jsx(h,{variant:"h6",children:"Drop or Select file"}),e.jsxs(h,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click",e.jsx(s,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:"browse"}),"thorough your machine"]})]})]}),F=e.jsx(G,{imgUrl:typeof o=="string"?o:o==null?void 0:o.preview}),k=d&&c&&e.jsx(A,{size:"small",onClick:c,sx:{top:16,right:16,zIndex:9,position:"absolute",color:r=>i(r.palette.common.white,.8),bgcolor:r=>i(r.palette.grey[900],.72),"&:hover":{bgcolor:r=>i(r.palette.grey[900],.48)}},children:e.jsx(u,{icon:"mingcute:close-line",width:18})}),U=R&&e.jsxs(e.Fragment,{children:[e.jsx(s,{sx:{my:3},children:e.jsx(M,{files:p,thumbnail:y,onRemove:v})}),e.jsxs(x,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:[g&&e.jsx(j,{color:"inherit",variant:"outlined",size:"small",onClick:g,children:"Remove All"}),m&&e.jsx(j,{size:"small",variant:"contained",onClick:m,startIcon:e.jsx(u,{icon:"eva:cloud-upload-fill"}),children:"Upload"})]})]});return e.jsxs(s,{sx:{width:1,position:"relative",...f},children:[e.jsxs(s,{...b(),sx:{p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:r=>i(r.palette.grey[500],.08),border:r=>`1px dashed ${i(r.palette.grey[500],.2)}`,transition:r=>r.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...P&&{opacity:.72},...t&&{opacity:.48,pointerEvents:"none"},...S&&{color:"error.main",borderColor:"error.main",bgcolor:r=>i(r.palette.error.main,.08)},...d&&{padding:"24% 0"}},children:[e.jsx("input",{...I()}),d?F:z]}),k,a&&a,e.jsx(q,{fileRejections:D}),U]})}export{q as R,V as U};
