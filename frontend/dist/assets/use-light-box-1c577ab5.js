import{b9 as gt,s as Be,a0 as ae,V as we,ba as vt,r as n,U as mo,_ as po,ay as go,j as V,X as vo,Y as bo,bb as Eo,aR as xo,aS as _o,bc as wo,e as Co,bd as yo,N as At,I as le,h as Po}from"./index-f7c4dfad.js";const So=["className","color","value","valueBuffer","variant"];let Ce=e=>e,$t,zt,Vt,Wt,Ht,Zt;const ct=4,Mo=gt($t||($t=Ce`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Io=gt(zt||(zt=Ce`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Lo=gt(Vt||(Vt=Ce`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),ko=e=>{const{classes:t,variant:o,color:r}=e,i={root:["root",`color${ae(r)}`,o],dashed:["dashed",`dashedColor${ae(r)}`],bar1:["bar",`barColor${ae(r)}`,(o==="indeterminate"||o==="query")&&"bar1Indeterminate",o==="determinate"&&"bar1Determinate",o==="buffer"&&"bar1Buffer"],bar2:["bar",o!=="buffer"&&`barColor${ae(r)}`,o==="buffer"&&`color${ae(r)}`,(o==="indeterminate"||o==="query")&&"bar2Indeterminate",o==="buffer"&&"bar2Buffer"]};return bo(i,Eo,t)},bt=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?xo(e.palette[t].main,.62):_o(e.palette[t].main,.5),No=Be("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${ae(o.color)}`],t[o.variant]]}})(({ownerState:e,theme:t})=>we({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:bt(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),To=Be("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.dashed,t[`dashedColor${ae(o.color)}`]]}})(({ownerState:e,theme:t})=>{const o=bt(t,e.color);return we({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${o} 0%, ${o} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},vt(Wt||(Wt=Ce`
    animation: ${0} 3s infinite linear;
  `),Lo)),Ro=Be("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.bar,t[`barColor${ae(o.color)}`],(o.variant==="indeterminate"||o.variant==="query")&&t.bar1Indeterminate,o.variant==="determinate"&&t.bar1Determinate,o.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>we({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${ct}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${ct}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&vt(Ht||(Ht=Ce`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Mo)),Oo=Be("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.bar,t[`barColor${ae(o.color)}`],(o.variant==="indeterminate"||o.variant==="query")&&t.bar2Indeterminate,o.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>we({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:bt(t,e.color),transition:`transform .${ct}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&vt(Zt||(Zt=Ce`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Io)),Do=n.forwardRef(function(t,o){const r=mo({props:t,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:l,valueBuffer:a,variant:c="indeterminate"}=r,d=po(r,So),g=we({},r,{color:s,variant:c}),f=ko(g),E=go(),p={},m={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&l!==void 0){p["aria-valuenow"]=Math.round(l),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let u=l-100;E&&(u=-u),m.bar1.transform=`translateX(${u}%)`}if(c==="buffer"&&a!==void 0){let u=(a||0)-100;E&&(u=-u),m.bar2.transform=`translateX(${u}%)`}return V.jsxs(No,we({className:vo(f.root,i),ownerState:g,role:"progressbar"},p,{ref:o},d,{children:[c==="buffer"?V.jsx(To,{className:f.dashed,ownerState:g}):null,V.jsx(Ro,{className:f.bar1,ownerState:g,style:m.bar1}),c==="determinate"?null:V.jsx(Oo,{className:f.bar2,ownerState:g,style:m.bar2})]}))}),Ti=Do,En="carousel",Xe="controller",Fo="navigation",Ao="no-scroll",xn="portal",$o="root",_n="toolbar",Ut="captions",ke="fullscreen",Bt="slideshow",Ne="thumbnails",Xt="zoom",xe="loading",ut="playing",Ie="error",Le="complete",zo="placeholder",Oe=e=>`active-slide-${e}`,wn=Oe(xe),Cn=Oe(ut),Vo=Oe(Ie),yn=Oe(Le),je="fullsize",pe="flex_center",Wo="no_scroll",Pn="no_scroll_padding",he="prev",me="next",dt="swipe",Te="close",Sn="onPointerDown",Mn="onPointerMove",In="onPointerUp",Ln="onPointerLeave",kn="onPointerCancel",Et="onKeyDown",Nn="onKeyUp",xt="onWheel",Ho="Escape",Zo="ArrowLeft",Uo="ArrowRight",Bo="button",Ze="icon",Tn="contain",jt="cover",Rn="Unknown action type",ft={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Te]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Tn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullDown:!1,closeOnBackdropClick:!1},portal:{},on:{},styles:{},className:""};function J(e,t){return{name:e,component:t}}function Z(e,t){return{module:e,children:t}}function On(e,t,o){return e.module.name===t?o(e):e.children?[Z(e.module,e.children.flatMap(r=>{var i;return(i=On(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function Ee(e,t,o){return e.flatMap(r=>{var i;return(i=On(r,t,o))!==null&&i!==void 0?i:[]})}function Xo(e,t=[],o=[]){let r=e;const i=p=>{const m=[...r];for(;m.length>0;){const u=m.pop();if((u==null?void 0:u.module.name)===p)return!0;u!=null&&u.children&&m.push(...u.children)}return!1},s=(p,m)=>{if(p===""){r=[Z(m,r)];return}r=Ee(r,p,u=>[Z(m,[u])])},l=(p,m)=>{r=Ee(r,p,u=>[Z(u.module,[Z(m,u.children)])])},a=(p,m,u)=>{r=Ee(r,p,h=>{var w;return[Z(h.module,[...u?[Z(m)]:[],...(w=h.children)!==null&&w!==void 0?w:[],...u?[]:[Z(m)]])]})},c=(p,m,u)=>{r=Ee(r,p,h=>[...u?[Z(m)]:[],h,...u?[]:[Z(m)]])},d=p=>{l(Xe,p)},g=(p,m)=>{r=Ee(r,p,u=>[Z(m,u.children)])},f=p=>{r=Ee(r,p,m=>m.children)},E=p=>{o.push(p)};return t.forEach(p=>{p({contains:i,addParent:s,append:l,addChild:a,addSibling:c,addModule:d,replace:g,remove:f,augment:E})}),{config:r,augmentation:p=>o.reduce((m,u)=>u(m),p)}}const U=(...e)=>[...e].filter(t=>!!t).join(" "),Dn="yarl__",S=e=>`${Dn}${e}`,A=e=>`--${Dn}${e}`,ge=(e,t)=>`${e}${t?`_${t}`:""}`,ve=e=>t=>ge(e,t),jo=(e,t)=>e&&e[t]?e[t]:t,De=(...e)=>()=>{e.forEach(t=>{t()})},ne=(e,t,o)=>()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r},_t=()=>typeof window<"u";function wt(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}const ye=e=>e.type===void 0||e.type==="image",Ct=(e,t)=>e.imageFit===jt||e.imageFit!==Tn&&t===jt;function Ue(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=parseInt(e,10);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function Yo(e,t){const o=Ue(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}const Ko=()=>(_t()?window==null?void 0:window.devicePixelRatio:void 0)||1,Fn=(e,t)=>t>0?(e%t+t)%t:0,yt=e=>e.length>0,We=(e,t)=>e[Fn(t,e.length)],ht=(e,t)=>yt(e)?We(e,t):void 0;function Fe(e,t,o){if(!o)return e;const{buttons:r,...i}=e,s=r.findIndex(a=>a===t),l=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(s>=0){const a=[...r];return a.splice(s,1,l),{buttons:a,...i}}return{buttons:[l,...r],...i}}function qo(){const e=t=>{t.stopPropagation()};return{onPointerDown:e,onKeyDown:e,onWheel:e}}function An(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const $n=n.createContext(null),Pe=ne("useEvents","EventsContext",$n);function Go({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(l,a)=>{var c;(c=t[l])===null||c===void 0||c.splice(0,t[l].length,...t[l].filter(d=>d!==a))};return{publish:(...[l,a])=>{var c;(c=t[l])===null||c===void 0||c.forEach(d=>d(a))},subscribe:(l,a)=>(t[l]||(t[l]=[]),t[l].push(a),()=>r(l,a)),unsubscribe:r}},[t]);return n.createElement($n.Provider,{value:o},e)}const zn=n.createContext(null),W=ne("useLightboxProps","LightboxPropsContext",zn);function Vn({children:e,...t}){return n.createElement(zn.Provider,{value:t},e)}const Wn=n.createContext(null),oe=ne("useLightboxState","LightboxStateContext",Wn),Hn=n.createContext(null),Qo=ne("useLightboxDispatch","LightboxDispatchContext",Hn);function Jo(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,i=e.globalIndex+r,s=Fn(i,o.length),l=ht(o,s),a=r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:s,globalIndex:i,currentSlide:l,animation:a}}case"update":return{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:ht(t.slides,t.index)};default:throw new Error(Rn)}}function er({slides:e,index:t,children:o}){const[r,i]=n.useReducer(Jo,{slides:e,currentIndex:t,globalIndex:t,currentSlide:ht(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(Hn.Provider,{value:i},n.createElement(Wn.Provider,{value:s},o))}const Zn=n.createContext(null),Ae=ne("useTimeouts","TimeoutsContext",Zn);function tr({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=l=>{t.splice(0,t.length,...t.filter(a=>a!==l))};return{setTimeout:(l,a)=>{const c=window.setTimeout(()=>{r(c),l()},a);return t.push(c),c},clearTimeout:l=>{l!==void 0&&(r(l),window.clearTimeout(l))}}},[t]);return n.createElement(Zn.Provider,{value:o},e)}const be=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:s,style:l,...a},c){const{styles:d,labels:g}=W();return n.createElement("button",{ref:c,type:"button","aria-label":jo(g,t),className:U(S(Bo),o),onClick:s,style:{...l,...d.button},...a},i?i():n.createElement(r,{className:S(Ze),style:d.icon}))});function Un(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function Y(e,t){return Un(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Bn(e,t){return Un(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const nr=Y("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),or=Y("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),rr=Y("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),ir=Y("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),sr=Y("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Q=_t()?n.useLayoutEffect:n.useEffect;function Pt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=l=>t(l.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var l;return(l=i==null?void 0:i.removeEventListener)===null||l===void 0?void 0:l.call(i,"change",s)}},[]),e}function lr(e){let t=0,o=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const l=s[1].split(",").map(a=>Number.parseInt(a,10));l.length===6?(t=l[4],o=l[5]):l.length===16&&(t=l[12],o=l[13],r=l[14])}return{x:t,y:o,z:r}}function mt(e,t){const o=n.useRef(),r=n.useRef(),i=Pt();return Q(()=>{var s,l,a;if(e.current&&o.current!==void 0&&!i){const{keyframes:c,duration:d,easing:g,onfinish:f}=t(o.current,e.current.getBoundingClientRect(),lr(e.current))||{};if(c&&d){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(a=(l=e.current).animate)===null||a===void 0?void 0:a.call(l,c,{duration:d,easing:g})}catch(E){console.error(E)}r.current&&(r.current.onfinish=()=>{r.current=void 0,f==null||f()})}}o.current=void 0}),{prepareAnimation:s=>{o.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function St(){const[e,t]=n.useState(),o=n.useRef(null),r=n.useRef(),i=n.useCallback(s=>{o.current=s,r.current&&(r.current.disconnect(),r.current=void 0);const l=()=>{if(s){const a=window.getComputedStyle(s),c=d=>parseFloat(d)||0;t({width:Math.round(s.clientWidth-c(a.paddingLeft)-c(a.paddingRight)),height:Math.round(s.clientHeight-c(a.paddingTop)-c(a.paddingBottom))})}else t(void 0)};l(),s&&typeof ResizeObserver<"u"&&(r.current=new ResizeObserver(l),r.current.observe(s))},[]);return n.useMemo(()=>({setContainerRef:i,containerRef:o,containerRect:e}),[i,o,e])}function He(){const e=n.useRef(),{setTimeout:t,clearTimeout:o}=Ae();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function D(e){const t=n.useRef(e);return Q(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function Yt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Kt(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{Yt(e,o),Yt(t,o)},[e,t])}function Xn(e,t=!1){const o=n.useRef();Q(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function Ye(){const[e,t]=n.useState(!1);return Q(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function ar(){const[e]=n.useState({});return n.useMemo(()=>{const t=(o,r)=>{var i;(i=e[o])===null||i===void 0||i.forEach(s=>{r.isPropagationStopped()||s(r)})};return{registerSensors:{onPointerDown:o=>t(Sn,o),onPointerMove:o=>t(Mn,o),onPointerUp:o=>t(In,o),onPointerLeave:o=>t(Ln,o),onPointerCancel:o=>t(kn,o),onKeyDown:o=>t(Et,o),onKeyUp:o=>t(Nn,o),onWheel:o=>t(xt,o)},subscribeSensors:(o,r)=>(e[o]||(e[o]=[]),e[o].unshift(r),()=>{const i=e[o];i&&i.splice(0,i.length,...i.filter(s=>s!==r))})}},[e])}function qt(e,t){const o=n.useRef(0),r=He(),i=D((...s)=>{o.current=Date.now(),e(s)});return n.useCallback((...s)=>{r(()=>{i(s)},t-(Date.now()-o.current))},[t,i,r])}const ot=ve("slide"),rt=ve("slide_image");function Re({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:s,onClick:l,onLoad:a,style:c}){var d,g,f,E,p,m,u;const[h,w]=n.useState(xe),{publish:C}=Pe(),{setTimeout:L}=Ae(),b=n.useRef(null);n.useEffect(()=>{t===0&&C(Oe(h))},[t,h,C]);const I=D(O=>{("decode"in O?O.decode():Promise.resolve()).catch(()=>{}).then(()=>{O.parentNode&&(w(Le),L(()=>{a==null||a(O)},0))})}),x=n.useCallback(O=>{b.current=O,O!=null&&O.complete&&I(O)},[I]),P=n.useCallback(O=>{I(O.currentTarget)},[I]),R=n.useCallback(()=>{w(Ie)},[]),y=Ct(e,i),k=(O,q)=>Number.isFinite(O)?O:q,N=k(Math.max(...((g=(d=e.srcSet)===null||d===void 0?void 0:d.map(O=>O.width))!==null&&g!==void 0?g:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((f=b.current)===null||f===void 0?void 0:f.naturalWidth)||0),M=k(Math.max(...((p=(E=e.srcSet)===null||E===void 0?void 0:E.map(O=>O.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((m=b.current)===null||m===void 0?void 0:m.naturalHeight)||0),v=N&&M?{maxWidth:`min(${N}px, 100%)`,maxHeight:`min(${M}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},T=(u=e.srcSet)===null||u===void 0?void 0:u.sort((O,q)=>O.width-q.width).map(O=>`${O.src} ${O.width}w`).join(", "),F=()=>r&&!y&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,$=T&&r&&_t()?`${Math.round(Math.min(F(),r.width))}px`:void 0,{style:H,className:K,...re}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:x,onLoad:P,onError:R,onClick:l,draggable:!1,className:U(S(rt()),y&&S(rt("cover")),h!==Le&&S(rt("loading")),K),style:{...v,...c,...H},...re,alt:e.alt,sizes:$,srcSet:T,src:e.src}),h!==Le&&n.createElement("div",{className:S(ot(zo))},h===xe&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(ir,{className:U(S(Ze),S(ot(xe)))})),h===Ie&&(o!=null&&o.iconError?o.iconError():n.createElement(sr,{className:U(S(Ze),S(ot(Ie)))}))))}var B;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN",e[e.ANIMATION=3]="ANIMATION"})(B||(B={}));function jn(e,t,o,r,i){n.useEffect(()=>i?()=>{}:De(e(Sn,t),e(Mn,o),e(In,r),e(Ln,r),e(kn,r)),[e,t,o,r,i])}var te;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN"})(te||(te={}));const it=30;function cr(e,t,o,r,i,s,l,a,c,d,g,f,E){const p=n.useRef(0),m=n.useRef([]),u=n.useRef(),h=n.useRef(0),w=n.useRef(te.NONE),C=n.useCallback(P=>{u.current===P.pointerId&&(u.current=void 0,w.current=te.NONE);const R=m.current;R.splice(0,R.length,...R.filter(y=>y.pointerId!==P.pointerId))},[]),L=n.useCallback(P=>{C(P),P.persist(),m.current.push(P)},[C]),b=D(P=>{L(P)}),I=D(P=>{if(m.current.find(R=>R.pointerId===P.pointerId)&&u.current===P.pointerId){const R=Date.now()-h.current,y=p.current;w.current===te.SWIPE?Math.abs(y)>.3*o||Math.abs(y)>5&&R<r?l(y,R):a(y):w.current===te.PULL_DOWN&&(y>2*it?f(y,R):E(y)),p.current=0,w.current=te.NONE}C(P)}),x=D(P=>{const R=m.current.find(y=>y.pointerId===P.pointerId);if(R){const y=u.current===P.pointerId;if(P.buttons===0){y&&p.current!==0?I(P):C(R);return}const k=P.clientX-R.clientX,N=P.clientY-R.clientY;if(u.current===void 0){const M=v=>{L(P),u.current=P.pointerId,h.current=Date.now(),w.current=v};Math.abs(k)>Math.abs(N)&&Math.abs(k)>it&&t(k)?(M(te.SWIPE),i()):c&&Math.abs(N)>Math.abs(k)&&N>it&&(M(te.PULL_DOWN),d())}else y&&(w.current===te.SWIPE?(p.current=k,s(k)):w.current===te.PULL_DOWN&&(p.current=N,g(N)))}});jn(e,b,x,I)}const Gt="wheel";function Qt(e){(Math.abs(e.deltaX)>Math.abs(e.deltaY)||e.ctrlKey)&&e.preventDefault()}function ur(){const e=n.useRef(null);return n.useCallback(t=>{var o;t?t.addEventListener(Gt,Qt,{passive:!1}):(o=e.current)===null||o===void 0||o.removeEventListener(Gt,Qt),e.current=t},[])}function dr(e,t,o,r,i,s,l,a,c){const d=n.useRef(0),g=n.useRef(0),f=n.useRef(),E=n.useRef(),p=n.useRef(0),m=n.useRef(0),{setTimeout:u,clearTimeout:h}=Ae(),w=n.useCallback(()=>{f.current&&(h(f.current),f.current=void 0)},[h]),C=n.useCallback(()=>{E.current&&(h(E.current),E.current=void 0)},[h]),L=D(()=>{e!==B.SWIPE&&(d.current=0,m.current=0,w(),C())});n.useEffect(L,[e,L]);const b=D(x=>{E.current=void 0,d.current===x&&c(d.current)}),I=D(x=>{if(!x.ctrlKey&&!(Math.abs(x.deltaY)>Math.abs(x.deltaX)))if(e===B.NONE){if(Math.abs(x.deltaX)<=1.2*Math.abs(p.current)){p.current=x.deltaX;return}if(!o(-x.deltaX))return;if(g.current+=x.deltaX,w(),Math.abs(g.current)>30)g.current=0,p.current=0,m.current=Date.now(),s();else{const P=g.current;f.current=u(()=>{f.current=void 0,P===g.current&&(g.current=0)},i)}}else if(e===B.SWIPE){let P=d.current-x.deltaX;if(P=Math.min(Math.abs(P),r)*Math.sign(P),d.current=P,l(P),C(),Math.abs(P)>.2*r){p.current=x.deltaX,a(P,Date.now()-m.current);return}E.current=u(()=>b(P),2*i)}else p.current=x.deltaX});n.useEffect(()=>t(xt,I),[t,I])}const fr=ve("container"),Yn=n.createContext(null),ee=ne("useController","ControllerContext",Yn);function hr({children:e,...t}){var o;const{carousel:r,animation:i,controller:s,on:l,styles:a,render:c}=t,[d,g]=n.useState(),f=oe(),E=Qo(),[p,m]=n.useState(B.NONE),u=n.useRef(0),h=n.useRef(0),w=n.useRef(1),{registerSensors:C,subscribeSensors:L}=ar(),{subscribe:b,publish:I}=Pe(),x=He(),P=He(),R=He(),{containerRef:y,setContainerRef:k,containerRect:N}=St(),M=Kt(ur(),k),v=n.useRef(null),T=Kt(v,void 0),F=Ye(),$=_=>(F?-1:1)*(typeof _=="number"?_:1),H=D(()=>{var _;return(_=y.current)===null||_===void 0?void 0:_.focus()}),K=D(()=>t),re=D(()=>f),O=n.useCallback(_=>I(he,_),[I]),q=n.useCallback(_=>I(me,_),[I]),ue=n.useCallback(()=>I(Te),[I]),qe=_=>!(r.finite&&($(_)>0&&f.currentIndex===0||$(_)<0&&f.currentIndex===f.slides.length-1)),Nt=_=>{var z;u.current=_,(z=y.current)===null||z===void 0||z.style.setProperty(A("swipe_offset"),`${Math.round(_)}px`)},Ge=s.closeOnPullDown,Qe=_=>{var z,j;h.current=_,w.current=(()=>Math.min(Math.max(wt(1-_/60*(1-.5),2),.5),1))(),(z=y.current)===null||z===void 0||z.style.setProperty(A("pull_down_offset"),`${Math.round(_)}px`),(j=y.current)===null||j===void 0||j.style.setProperty(A("pull_down_opacity"),`${w.current}`)},{prepareAnimation:ao}=mt(v,(_,z,j)=>{if(v.current&&N)return{keyframes:[{transform:`translate(0, ${_.rect.y-z.y+j.y}px)`,opacity:_.opacity},{transform:"translate(0, 0)",opacity:1}],duration:_.duration,easing:i.easing.fade}}),Tt=(_,z)=>{if(Ge){Qe(_);let j=0;v.current&&(j=i.fade*(z?2:1),ao({rect:v.current.getBoundingClientRect(),opacity:w.current,duration:j})),R(()=>{Qe(0),m(B.NONE)},j),m(B.ANIMATION),z||ue()}},{prepareAnimation:co,isAnimationPlaying:uo}=mt(v,(_,z,j)=>{var ie;if(v.current&&N&&(!((ie=f.animation)===null||ie===void 0)&&ie.duration)){const G=Ue(r.spacing),Je=(G.percent?G.percent*N.width/100:G.pixel)||0;return{keyframes:[{transform:`translate(${$(f.globalIndex-_.index)*(N.width+Je)+_.rect.x-z.x+j.x}px, 0)`},{transform:"translate(0, 0)"}],duration:f.animation.duration,easing:f.animation.easing}}}),Se=D(_=>{var z,j;const ie=_.offset||0,G=ie?i.swipe:(z=i.navigation)!==null&&z!==void 0?z:i.swipe,Je=!ie&&!uo()?i.easing.navigation:i.easing.swipe;let{direction:$e}=_;const ze=(j=_.count)!==null&&j!==void 0?j:1;let et=B.ANIMATION,se=G*ze;if(!$e){const Me=N==null?void 0:N.width,Ft=_.duration||0,nt=Me?G/Me*Math.abs(ie):G;ze!==0?(Ft<nt?se=se/nt*Math.max(Ft,nt/5):Me&&(se=G/Me*(Me-Math.abs(ie))),$e=$(ie)>0?he:me):se=G/2}let tt=0;$e===he?qe($(1))?tt=-ze:(et=B.NONE,se=G):$e===me&&(qe($(-1))?tt=ze:(et=B.NONE,se=G)),se=Math.round(se),P(()=>{Nt(0),m(B.NONE)},se),v.current&&co({rect:v.current.getBoundingClientRect(),index:f.globalIndex}),m(et),I(dt,{type:"swipe",increment:tt,duration:se,easing:Je})});n.useEffect(()=>{var _,z;!((_=f.animation)===null||_===void 0)&&_.increment&&(!((z=f.animation)===null||z===void 0)&&z.duration)&&x(()=>E({type:"swipe",increment:0}),f.animation.duration)},[f.animation,E,x]);const Rt=[L,qe,(N==null?void 0:N.width)||0,i.swipe,()=>m(B.SWIPE),_=>Nt(_),(_,z)=>Se({offset:_,duration:z,count:1}),_=>Se({offset:_,count:0})],fo=[()=>{Ge&&m(B.PULL_DOWN)},_=>Qe(_),_=>Tt(_),_=>Tt(_,!0)];cr(...Rt,Ge,...fo),dr(p,...Rt);const Ot=D(()=>{var _;s.focus&&((_=y.current)===null||_===void 0||_.focus())});n.useEffect(Ot,[Ot]);const Dt=D(()=>{var _;(_=l.view)===null||_===void 0||_.call(l,{index:f.currentIndex})});n.useEffect(Dt,[f.globalIndex,Dt]),n.useEffect(()=>De(b(he,_=>Se({direction:he,..._})),b(me,_=>Se({direction:me,..._})),b(dt,_=>E(_))),[b,Se,E]),n.useEffect(()=>L(Nn,_=>{_.key===Ho&&ue()}),[L,ue]);const ho=n.useMemo(()=>({prev:O,next:q,close:ue,focus:H,slideRect:N?Yo(N,r.padding):{width:0,height:0},containerRect:N||{width:0,height:0},subscribeSensors:L,containerRef:y,setCarouselRef:T,toolbarWidth:d,setToolbarWidth:g}),[O,q,ue,H,L,N,y,T,d,g,r.padding]);return n.useImperativeHandle(s.ref,()=>({prev:O,next:q,close:ue,focus:H,getLightboxProps:K,getLightboxState:re}),[O,q,ue,H,K,re]),n.createElement("div",{ref:M,className:U(S(fr()),S(pe)),style:{...p===B.SWIPE?{[A("swipe_offset")]:`${Math.round(u.current)}px`}:null,...p===B.PULL_DOWN?{[A("pull_down_offset")]:`${Math.round(h.current)}px`,[A("pull_down_opacity")]:`${w.current}`}:null,...s.touchAction!=="none"?{[A("controller_touch_action")]:s.touchAction}:null,...a.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...C},N&&n.createElement(Yn.Provider,{value:ho},e,(o=c.controls)===null||o===void 0?void 0:o.call(c)))}const mr=J(Xe,hr);function de(e){return ge(En,e)}function Jt(e){return ge("slide",e)}function st({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r}=oe(),{slideRect:i,close:s}=ee(),{render:l,carousel:{imageFit:a,imageProps:c},on:{click:d},controller:{closeOnBackdropClick:g},styles:{slide:f}}=W(),E=()=>{var m,u,h,w;let C=(m=l.slide)===null||m===void 0?void 0:m.call(l,{slide:e,offset:t,rect:i});return!C&&ye(e)&&(C=n.createElement(Re,{slide:e,offset:t,render:l,rect:i,imageFit:a,imageProps:c,onClick:t===0?()=>d==null?void 0:d({index:r}):void 0})),C?n.createElement(n.Fragment,null,(u=l.slideHeader)===null||u===void 0?void 0:u.call(l,{slide:e}),((h=l.slideContainer)!==null&&h!==void 0?h:({children:L})=>L)({slide:e,children:C}),(w=l.slideFooter)===null||w===void 0?void 0:w.call(l,{slide:e})):null},p=m=>{const u=o.current,h=m.target instanceof HTMLElement?m.target:void 0;g&&h&&u&&(h===u||Array.from(u.children).find(w=>w===h)&&h.classList.contains(S(je)))&&s()};return n.createElement("div",{ref:o,className:U(S(Jt()),t===0&&S(Jt("current")),S(pe)),onClick:p,style:f},E())}function en(){const e=W().styles.slide;return n.createElement("div",{className:S("slide"),style:e})}function pr({carousel:e}){const{slides:t,currentIndex:o,globalIndex:r}=oe(),{setCarouselRef:i}=ee(),s=Ue(e.spacing),l=Ue(e.padding),a=[],c=An(e,t,1);if(yt(t)){for(let d=o-c;d<o;d+=1){const g=r+d-o;a.push(!e.finite||d>=0?n.createElement(st,{key:g,slide:t[(d+c*t.length)%t.length],offset:d-o}):n.createElement(en,{key:g}))}a.push(n.createElement(st,{key:r,slide:t[o],offset:0}));for(let d=o+1;d<=o+c;d+=1){const g=r+d-o;a.push(!e.finite||d<=t.length-1?n.createElement(st,{key:g,slide:t[d%t.length],offset:d-o}):n.createElement(en,{key:g}))}}return n.createElement("div",{ref:i,className:U(S(de()),a.length>0&&S(de("with_slides"))),style:{[`${A(de("slides_count"))}`]:a.length,[`${A(de("spacing_px"))}`]:s.pixel||0,[`${A(de("spacing_percent"))}`]:s.percent||0,[`${A(de("padding_px"))}`]:l.pixel||0,[`${A(de("padding_percent"))}`]:l.percent||0}},a)}const gr=J(En,pr);function tn({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:s,style:l}){return n.createElement(be,{label:e,icon:t,renderIcon:o,className:S(`navigation_${r}`),disabled:s,onClick:i,style:l,...Xn(ee().focus,s)})}function vr({carousel:{finite:e},animation:t,render:{buttonPrev:o,buttonNext:r,iconPrev:i,iconNext:s},styles:l}){var a;const{slides:c,currentIndex:d}=oe(),{prev:g,next:f,subscribeSensors:E}=ee(),p=Ye(),m=c.length===0||e&&d===0,u=c.length===0||e&&d===c.length-1,h=((a=t.navigation)!==null&&a!==void 0?a:t.swipe)/2,w=qt(g,h),C=qt(f,h),L=D(b=>{b.key===Zo&&!(p?u:m)&&(p?C:w)(),b.key===Uo&&!(p?m:u)&&(p?w:C)()});return n.useEffect(()=>E(Et,L),[E,L]),n.createElement(n.Fragment,null,o?o():n.createElement(tn,{label:"Previous",action:he,icon:or,renderIcon:i,style:l.navigationPrev,disabled:m,onClick:g}),r?r():n.createElement(tn,{label:"Next",action:me,icon:rr,renderIcon:s,style:l.navigationNext,disabled:u,onClick:f}))}const br=J(Fo,vr),nn=S(Wo),Er=S(Pn);function xr(e){return"style"in e}function on(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",s=o?r.paddingLeft:r.paddingRight,l=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(parseInt(s,10)||0)+t}px`),()=>{l?e.style.setProperty(i,l):e.style.removeProperty(i)}}function _r({children:e}){const t=Ye();return Q(()=>{const o=[],{body:r,documentElement:i}=document,s=Math.round(window.innerWidth-i.clientWidth);if(s>0){o.push(on(r,s,t));const l=r.getElementsByTagName("*");for(let a=0;a<l.length;a+=1){const c=l[a];xr(c)&&window.getComputedStyle(c).getPropertyValue("position")==="fixed"&&!c.classList.contains(Er)&&o.push(on(c,s,t))}}return r.classList.add(nn),()=>{r.classList.remove(nn),o.forEach(l=>l())}},[t]),n.createElement(n.Fragment,null,e)}const wr=J(Ao,_r);function rn(e){return ge(xn,e)}function sn(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function Cr({children:e,animation:t,styles:o,className:r,on:i,portal:s,close:l}){const[a,c]=n.useState(!1),[d,g]=n.useState(!1),f=n.useRef([]),{setTimeout:E}=Ae(),{subscribe:p}=Pe(),u=Pt()?0:t.fade;n.useEffect(()=>(c(!0),()=>{c(!1),g(!1)}),[]);const h=D(()=>{var b;g(!1),(b=i.exiting)===null||b===void 0||b.call(i),E(()=>{var I;(I=i.exited)===null||I===void 0||I.call(i),l()},u)});n.useEffect(()=>p(Te,h),[p,h]);const w=D(b=>{var I,x,P;b.scrollTop,g(!0),(I=i.entering)===null||I===void 0||I.call(i);const R=(P=(x=b.parentNode)===null||x===void 0?void 0:x.children)!==null&&P!==void 0?P:[];for(let y=0;y<R.length;y+=1){const k=R[y];["TEMPLATE","SCRIPT","STYLE"].indexOf(k.tagName)===-1&&k!==b&&(f.current.push(sn(k,"inert","true")),f.current.push(sn(k,"aria-hidden","true")))}E(()=>{var y;(y=i.entered)===null||y===void 0||y.call(i)},u)}),C=D(()=>{f.current.forEach(b=>b()),f.current=[]}),L=n.useCallback(b=>{b?w(b):C()},[w,C]);return a?wo.createPortal(n.createElement("div",{ref:L,className:U(r,S("root"),S(rn()),S(Pn),d&&S(rn("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==ft.animation.fade?{[A("fade_animation_duration")]:`${u}ms`}:null,...t.easing.fade!==ft.animation.easing.fade?{[A("fade_animation_timing_function")]:t.easing.fade}:null,...o.root}},e),s.root||document.body):null}const yr=J(xn,Cr);function Pr({children:e}){return n.createElement(n.Fragment,null,e)}const Sr=J($o,Pr);function Mr(e){return ge(_n,e)}function Ir({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:s}=ee(),{setContainerRef:l,containerRect:a}=St();Q(()=>{s(a==null?void 0:a.width)},[s,a==null?void 0:a.width]);const c=()=>t?t():n.createElement(be,{key:Te,label:"Close",icon:nr,renderIcon:o,onClick:i});return n.createElement("div",{ref:l,style:r.toolbar,className:S(Mr()),...qo()},e==null?void 0:e.map(d=>d===Te?c():d))}const Lr=J(_n,Ir);function Kn(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>Kn(r,t)))}function kr(e,t={}){const{easing:o,...r}=e,{easing:i,...s}=t;return{easing:{...o,...i},...r,...s}}function Nr({carousel:e,animation:t,render:o,toolbar:r,controller:i,on:s,plugins:l,slides:a,index:c,...d}){const{animation:g,carousel:f,render:E,toolbar:p,controller:m,on:u,slides:h,index:w,plugins:C,...L}=ft,{config:b,augmentation:I}=Xo([Z(yr,[Z(wr,[Z(mr,[Z(gr),Z(Lr),Z(br)])])])],l||C),x=I({animation:kr(g,t),carousel:{...f,...e},render:{...E,...o},toolbar:{...p,...r},controller:{...m,...i},on:{...u,...s},...L,...d});return x.open?n.createElement(Vn,{...x},n.createElement(er,{slides:a||h,index:c||w},n.createElement(tr,null,n.createElement(Go,null,Kn(Z(Sr,b),x))))):null}const Tr={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},qn=e=>({...Tr,...e});function Rr(e,t,o,r){const i=n.useRef(),s=n.useRef(),{zoom:l}=W().animation,a=Pt(),c=D(()=>{var d,g,f;if((d=i.current)===null||d===void 0||d.cancel(),i.current=void 0,s.current&&(r!=null&&r.current)){try{i.current=(f=(g=r.current).animate)===null||f===void 0?void 0:f.call(g,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${o}px)`}],{duration:a?0:l??500,easing:i.current?"ease-out":"ease-in-out"})}catch(E){console.error(E)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return Q(c,[e,t,o,c]),n.useCallback(()=>{s.current=r!=null&&r.current?window.getComputedStyle(r.current).transform:void 0},[r])}function Or(e,t){const{on:o}=W(),r=D(()=>{var i;t||(i=o.zoom)===null||i===void 0||i.call(o,{zoom:e})});n.useEffect(r,[e,r])}function Ke(){const{zoom:e}=W();return qn(e)}function Dr(e,t){var o,r;let i={width:0,height:0},s={width:0,height:0};const{slides:l,currentIndex:a}=oe(),{imageFit:c}=W().carousel,{maxZoomPixelRatio:d}=Ke();if(e&&a<l.length){const f={...l[a],...t};if(ye(f)){const E=Ct(f,c),p=Math.max(...(((o=f.srcSet)===null||o===void 0?void 0:o.map(u=>u.width))||[]).concat(f.width?[f.width]:[])),m=Math.max(...(((r=f.srcSet)===null||r===void 0?void 0:r.map(u=>u.height))||[]).concat(f.height?[f.height]:[]));p>0&&m>0&&e.width>0&&e.height>0&&(s=E?{width:Math.round(Math.min(p,e.width/e.height*m)),height:Math.round(Math.min(m,e.height/e.width*p))}:{width:p,height:m},s={width:s.width*d,height:s.height*d},i=E?{width:Math.min(e.width,s.width,p),height:Math.min(e.height,s.height,m)}:{width:Math.round(Math.min(e.width,e.height/m*p,p)),height:Math.round(Math.min(e.height,e.width/p*m,m))})}}const g=i.width?Math.max(wt(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:g}}function ln(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Fr(e,t,o,r,i,s){const l=n.useRef([]),a=n.useRef(0),c=n.useRef(),{globalIndex:d}=oe(),{containerRef:g,subscribeSensors:f}=ee(),{keyboardMoveDistance:E,zoomInMultiplier:p,wheelZoomDistanceFactor:m,scrollToZoom:u,doubleTapDelay:h,doubleClickDelay:w,doubleClickMaxStops:C,pinchZoomDistanceFactor:L}=Ke(),b=n.useCallback(v=>{if(g.current){const{pageX:T,pageY:F}=v,{scrollX:$,scrollY:H}=window,{left:K,top:re,width:O,height:q}=g.current.getBoundingClientRect();return[T-K-$-O/2,F-re-H-q/2]}return[]},[g]),I=D(v=>{const T=()=>{v.preventDefault(),v.stopPropagation()};if(e>1){const H=(K,re)=>{T(),i(K,re)};v.key==="ArrowDown"?H(0,E):v.key==="ArrowUp"?H(0,-E):v.key==="ArrowLeft"?H(-E,0):v.key==="ArrowRight"&&H(E,0)}const F=H=>{T(),r(H)},$=()=>v.getModifierState("Meta");v.key==="+"||v.key==="="&&$()?F(e*p):v.key==="-"||v.key==="_"&&$()?F(e/p):v.key==="0"&&$()&&F(1)}),x=D(v=>{if((v.ctrlKey||u)&&Math.abs(v.deltaY)>Math.abs(v.deltaX)){v.stopPropagation(),r(e*(1-v.deltaY/m),!0,...b(v));return}e>1&&(v.stopPropagation(),u||i(v.deltaX,v.deltaY))}),P=n.useCallback(v=>{const T=l.current;T.splice(0,T.length,...T.filter(F=>F.pointerId!==v.pointerId))},[]),R=n.useCallback(v=>{P(v),v.persist(),l.current.push(v)},[P]),y=D(v=>{var T;const F=l.current;if(!(!((T=s==null?void 0:s.current)===null||T===void 0)&&T.contains(v.target)))return;e>1&&v.stopPropagation();const{timeStamp:$}=v;F.length===0&&$-a.current<(v.pointerType==="touch"?h:w)?(a.current=0,r(e!==t?e*Math.max(t**(1/C),p):1,!1,...b(v))):a.current=$,R(v),F.length===2&&(c.current=ln(F[0],F[1]))}),k=D(v=>{const T=l.current,F=T.find($=>$.pointerId===v.pointerId);if(T.length===2&&c.current){v.stopPropagation(),R(v);const $=ln(T[0],T[1]),H=$-c.current;Math.abs(H)>0&&(r(e*(1+H/L),!0,...T.map(K=>b(K)).reduce((K,re)=>re.map((O,q)=>K[q]+O/2))),c.current=$);return}e>1&&(v.stopPropagation(),F&&(T.length===1&&i((F.clientX-v.clientX)/e,(F.clientY-v.clientY)/e),R(v)))}),N=n.useCallback(v=>{const T=l.current;T.length===2&&T.find(F=>F.pointerId===v.pointerId)&&(c.current=void 0),P(v)},[P]),M=n.useCallback(()=>{const v=l.current;v.splice(0,v.length),a.current=0,c.current=void 0},[]);jn(f,y,k,N,o),n.useEffect(M,[d,M]),n.useEffect(()=>o?()=>{}:De(M,f(Et,I),f(xt,x)),[o,f,M,I,x])}function Ar(e,t){if(t<e.length){const o=e[t];if(ye(o))return o.src}}function $r(e,t,o){const[r,i]=n.useState(1),[s,l]=n.useState(0),[a,c]=n.useState(0),d=Rr(r,s,a,o),{slides:g,currentIndex:f,globalIndex:E}=oe(),{containerRect:p,slideRect:m}=ee(),{zoomInMultiplier:u}=Ke(),h=Ar(g,f),w=!h||!(o!=null&&o.current);Q(()=>{i(1),l(0),c(0)},[E,h]);const C=n.useCallback((P,R,y)=>{const k=y||r,N=s-(P||0),M=a-(R||0),v=(e.width*k-m.width)/2/k,T=(e.height*k-m.height)/2/k;l(Math.min(Math.abs(N),Math.max(v,0))*Math.sign(N)),c(Math.min(Math.abs(M),Math.max(T,0))*Math.sign(M))},[r,s,a,m,e.width,e.height]),L=n.useCallback((P,R,y,k)=>{const N=wt(Math.min(Math.max(P+.001<t?P:t,1),t),5);N!==r&&(R||d(),C(y?y*(1/r-1/N):0,k?k*(1/r-1/N):0,N),i(N))},[r,t,C,d]),b=D(()=>{r>1&&(r>t&&L(t,!0),C())});Q(b,[p.width,p.height,b]);const I=n.useCallback(()=>L(r*u),[r,u,L]),x=n.useCallback(()=>L(r/u),[r,u,L]);return{zoom:r,offsetX:s,offsetY:a,disabled:w,changeOffsets:C,changeZoom:L,zoomIn:I,zoomOut:x}}const Gn=n.createContext(null),Mt=ne("useZoom","ZoomControllerContext",Gn);function zr({children:e}){const[t,o]=n.useState(),{slideRect:r}=ee(),{imageRect:i,maxZoom:s}=Dr(r,t==null?void 0:t.imageDimensions),{zoom:l,offsetX:a,offsetY:c,disabled:d,changeZoom:g,changeOffsets:f,zoomIn:E,zoomOut:p}=$r(i,s,t==null?void 0:t.zoomWrapperRef);Or(l,d),Fr(l,s,d,g,f,t==null?void 0:t.zoomWrapperRef);const m=n.useMemo(()=>({zoom:l,maxZoom:s,offsetX:a,offsetY:c,disabled:d,zoomIn:E,zoomOut:p,changeZoom:g}),[l,s,a,c,d,E,p,g]);n.useImperativeHandle(Ke().ref,()=>m,[m]);const u=n.useMemo(()=>({...m,setZoomWrapper:o}),[m,o]);return n.createElement(Gn.Provider,{value:u},e)}const Vr=Y("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Wr=Y("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),an=n.forwardRef(function({zoomIn:t,onLoseFocus:o},r){const i=n.useRef(!1),s=n.useRef(!1),{zoom:l,maxZoom:a,zoomIn:c,zoomOut:d,disabled:g}=Mt(),{render:f}=W(),E=g||(t?l>=a:l<=1);return n.useEffect(()=>{E&&i.current&&s.current&&o(),E||(i.current=!0)},[E,o]),n.createElement(be,{ref:r,disabled:E,label:t?"Zoom in":"Zoom out",icon:t?Vr:Wr,renderIcon:t?f.iconZoomIn:f.iconZoomOut,onClick:t?c:d,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Hr(){const e=n.useRef(null),t=n.useRef(null),{focus:o}=ee(),r=n.useCallback(l=>{var a,c;!((a=l.current)===null||a===void 0)&&a.disabled?o():(c=l.current)===null||c===void 0||c.focus()},[o]),i=n.useCallback(()=>r(e),[r]),s=n.useCallback(()=>r(t),[r]);return n.createElement(n.Fragment,null,n.createElement(an,{zoomIn:!0,ref:e,onLoseFocus:s}),n.createElement(an,{ref:t,onLoseFocus:i}))}function Zr(){const{render:e}=W(),t=Mt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Hr,null)}function Ur(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Br({current:e,preload:t},{type:o,source:r}){switch(o){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(Rn)}}function Xr(e){var t,o;const[{current:r,preload:i},s]=n.useReducer(Br,{}),{slide:l,rect:a,imageFit:c,render:d}=e,g=l.srcSet.sort((b,I)=>b.width-I.width),f=(t=l.width)!==null&&t!==void 0?t:g[g.length-1].width,E=(o=l.height)!==null&&o!==void 0?o:g[g.length-1].height,p=Ct(l,c),m=Math.max(...g.map(b=>b.width)),u=Math.min((p?Math.max:Math.min)(a.width,f*(a.height/E)),m),h=Ko(),w=D(()=>{var b;const I=(b=g.find(x=>x.width>=u*h))!==null&&b!==void 0?b:g[g.length-1];(!r||g.findIndex(x=>x.src===r)<g.findIndex(x=>x===I))&&s({type:"fetch",source:I.src})});Q(w,[a.width,a.height,h,w]);const C=D(b=>s({type:"done",source:b})),L={WebkitTransform:"translateZ(0)"};return p||Object.assign(L,a.width/a.height<f/E?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==r&&n.createElement(Re,{key:"preload",...e,slide:{...l,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...L},onLoad:()=>C(i),render:{...d,iconLoading:()=>null,iconError:()=>null}}),r&&n.createElement(Re,{key:"current",...e,slide:{...l,src:r,srcSet:void 0},style:L}))}function jr({render:e,slide:t,offset:o,rect:r}){var i;const[s,l]=n.useState(),a=n.useRef(null),{zoom:c,maxZoom:d,offsetX:g,offsetY:f,setZoomWrapper:E}=Mt(),{carousel:p,on:m}=W(),{currentIndex:u}=oe();Q(()=>o===0?(E({zoomWrapperRef:a,imageDimensions:s}),()=>E(void 0)):()=>{},[o,s,E]);let h=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:o,rect:r,zoom:c,maxZoom:d});if(!h&&ye(t)){const w={slide:t,offset:o,rect:r,render:e,imageFit:p.imageFit,imageProps:p.imageProps,onClick:o===0?()=>{var C;return(C=m.click)===null||C===void 0?void 0:C.call(m,{index:u})}:void 0};h=Ur(t)?n.createElement(Xr,{key:t.src,...w,slide:t,rect:o===0?{width:r.width*c,height:r.height*c}:r}):n.createElement(Re,{key:t.src,onLoad:C=>l({width:C.naturalWidth,height:C.naturalHeight}),...w})}return h?n.createElement("div",{ref:a,className:U(S(je),S(pe)),style:o===0?{transform:`scale(${c}) translateX(${g}px) translateY(${f}px)`}:void 0},h):null}const cn=({augment:e,addModule:t})=>{e(({toolbar:o,render:r,zoom:i,...s})=>({zoom:qn(i),toolbar:Fe(o,Xt,n.createElement(Zr,null)),render:{...r,slide:l=>{var a;return ye(l.slide)?n.createElement(jr,{render:r,...l}):(a=r.slide)===null||a===void 0?void 0:a.call(r,l)}},...s})),t(J(Xt,zr))},Yr={controls:!0,playsInline:!0},Qn=e=>({...Yr,...e});function Kr(){const{video:e}=W();return Qn(e)}function qr({slide:e,offset:t}){const o=Kr(),{publish:r}=Pe(),{setContainerRef:i,containerRect:s}=St(),l=n.useRef(null);n.useEffect(()=>{t!==0&&l.current&&!l.current.paused&&l.current.pause()},[t]),n.useEffect(()=>{t===0&&l.current&&(e.autoPlay||o.autoPlay)&&(r(wn),l.current.play().catch(()=>{}))},[t,o.autoPlay,e.autoPlay,r]);const a=D(h=>{t===0&&(o.autoPlay||e.autoPlay)&&h.paused&&h.play().catch(()=>{})}),c=n.useCallback(h=>{l.current=h,h&&a(h)},[a]),{width:d,height:g,poster:f,sources:E}=e,p=()=>{const h={};if(h.style={maxWidth:"100%",maxHeight:"100%"},d&&g&&s){const w=d/g>s.width/s.height,C=w?s.width:Math.round(s.height/g*d),L=w?Math.round(s.width/d*g):s.height;h.width=C,h.height=L,h.style.width=C,h.style.height=L}return h},m=h=>e[h]===!1?null:e[h]===!0?{[h]:!0}:o[h]===!1?null:o[h]===!0?{[h]:!0}:null,u=h=>o[h]||e[h]?{[h]:e[h]||o[h]}:null;return n.createElement(n.Fragment,null,E&&n.createElement("div",{ref:i,style:{width:"100%",height:"100%",...d?{maxWidth:`${d}px`}:null},className:U(S("video_container"),S(pe))},s&&n.createElement("video",{ref:c,poster:f,...p(),...m("controls"),...m("playsInline"),...m("loop"),...m("muted"),...m("playsInline"),...m("disablePictureInPicture"),...m("disableRemotePlayback"),...u("controlsList"),...u("crossOrigin"),...u("preload"),onPlay:()=>{r(Cn)},onEnded:()=>{r(yn)}},E.map(({src:h,type:w},C)=>n.createElement("source",{key:C,src:h,type:w})))))}function Gr(e){return e.type==="video"}function un({augment:e}){e(({render:{slide:t,...o},video:r,...i})=>({render:{slide:({slide:s,offset:l,rect:a})=>{var c;return Gr(s)?n.createElement(qr,{key:(c=s.sources)===null||c===void 0?void 0:c.map(d=>d.src).join(" "),slide:s,offset:l}):t==null?void 0:t({slide:s,offset:l,rect:a})},...o},video:Qn(r),...i}))}const _e=e=>S(`slide_${e}`),pt={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1},It=e=>({...pt,...e});function Qr(){const{captions:e}=W();return It(e)}const Jn=n.createContext(null),Lt=ne("useCaptions","CaptionsContext",Jn);function Jr({captions:e,children:t}){const{ref:o}=It(e),[r,i]=n.useState(!0),s=n.useMemo(()=>({visible:r,show:()=>i(!0),hide:()=>i(!1)}),[r]);return n.useImperativeHandle(o,()=>s,[s]),n.createElement(Jn.Provider,{value:s},t)}function ei({title:e}){const{toolbarWidth:t}=ee(),{styles:o}=W(),{visible:r}=Lt();return r?n.createElement("div",{style:o.captionsTitleContainer,className:U(_e("captions_container"),_e("title_container"))},n.createElement("div",{className:_e("title"),style:{...t?{[A("toolbar_width")]:`${t}px`}:null,...o.captionsTitle}},e)):null}function ti({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:o}=Qr(),{styles:r}=W(),{visible:i}=Lt();return i?n.createElement("div",{style:r.captionsDescriptionContainer,className:U(_e("captions_container"),_e("description_container"))},n.createElement("div",{className:_e("description"),style:{...t!==pt.descriptionTextAlign||o!==pt.descriptionMaxLines?{[A("slide_description_text_align")]:t,[A("slide_description_max_lines")]:o}:null,...r.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((s,l)=>[...l>0?[n.createElement("br",{key:l})]:[],s]):e)):null}const eo=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),ni=Y("CaptionsVisible",eo()),oi=Bn("CaptionsVisible",eo());function ri(){const{visible:e,show:t,hide:o}=Lt(),{render:r}=W();return r.buttonCaptions?n.createElement(n.Fragment,null,r.buttonCaptions({visible:e,show:t,hide:o})):n.createElement(be,{label:e?"Hide captions":"Show captions",icon:e?ni:oi,renderIcon:e?r.iconCaptionsVisible:r.iconCaptionsHidden,onClick:e?o:t})}function dn({augment:e,addModule:t}){e(({captions:o,render:{slideFooter:r,...i},toolbar:s,...l})=>{const a=It(o);return{render:{slideFooter:({slide:c})=>n.createElement(n.Fragment,null,r==null?void 0:r({slide:c}),c.title&&n.createElement(ei,{title:c.title}),c.description&&n.createElement(ti,{description:c.description})),...i},toolbar:Fe(s,Ut,a.showToggle?n.createElement(ri,null):null),captions:a,...l}}),t(J(Ut,Jr))}const ii={autoplay:!1,delay:3e3,ref:null},to=e=>({...ii,...e}),no=n.createContext(null),si=ne("useSlideshow","SlideshowContext",no);function li({slideshow:e,carousel:{finite:t},on:o,children:r}){const{autoplay:i,delay:s,ref:l}=to(e),a=n.useRef(i),[c,d]=n.useState(i),g=n.useRef(),f=n.useRef(),{slides:E,currentIndex:p}=oe(),{setTimeout:m,clearTimeout:u}=Ae(),{subscribe:h}=Pe(),{next:w}=ee(),C=E.length===0||t&&p===E.length-1,L=n.useCallback(()=>{!c&&!C&&d(!0)},[c,C]),b=n.useCallback(()=>{c&&d(!1)},[c]),I=n.useCallback(()=>{u(g.current),g.current=void 0},[u]),x=D(()=>{I(),!(!c||C||f.current===xe||f.current===ut)&&(g.current=m(()=>{c&&(f.current=void 0,w())},s))});n.useEffect(x,[p,c,x]),n.useEffect(()=>{c&&C&&d(!1)},[p,c,C]);const P=D(()=>{var k;return(k=o.slideshowStart)===null||k===void 0?void 0:k.call(o)}),R=D(()=>{var k;return(k=o.slideshowStop)===null||k===void 0?void 0:k.call(o)});n.useEffect(()=>{c?P():a.current&&R(),a.current=c},[c,P,R]),n.useEffect(()=>De(I,h(wn,()=>{f.current=xe,I()}),h(Cn,()=>{f.current=ut,I()}),h(Vo,()=>{f.current=Ie,x()}),h(yn,()=>{f.current=Le,x()})),[h,I,x]);const y=n.useMemo(()=>({playing:c,disabled:C,play:L,pause:b}),[c,C,L,b]);return n.useImperativeHandle(l,()=>y,[y]),n.createElement(no.Provider,{value:y},r)}const ai=Y("Play",n.createElement("path",{d:"M8 5v14l11-7z"})),ci=Y("Pause",n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function ui(){const{playing:e,disabled:t,play:o,pause:r}=si(),{render:i}=W(),s=Xn(ee().focus,t);return i.buttonSlideshow?n.createElement(n.Fragment,null,i.buttonSlideshow({playing:e,disabled:t,play:o,pause:r})):n.createElement(be,{label:e?"Pause":"Play",icon:e?ci:ai,renderIcon:e?i.iconSlideshowPause:i.iconSlideshowPlay,onClick:e?r:o,disabled:t,...s})}function fn({augment:e,addModule:t}){e(({slideshow:o,toolbar:r,...i})=>({toolbar:Fe(r,Bt,n.createElement(ui,null)),slideshow:to(o),...i})),t(J(Bt,li))}const di={auto:!1,ref:null},oo=e=>({...di,...e}),ro=n.createContext(null),fi=ne("useFullscreen","FullscreenContext",ro);function hi({fullscreen:e,children:t}){const{auto:o,ref:r}=oo(e),i=n.useRef(null),[s,l]=n.useState(!1),[a,c]=n.useState();Q(()=>{var u,h,w,C;c(!((C=(w=(h=(u=document.fullscreenEnabled)!==null&&u!==void 0?u:document.webkitFullscreenEnabled)!==null&&h!==void 0?h:document.mozFullScreenEnabled)!==null&&w!==void 0?w:document.msFullscreenEnabled)!==null&&C!==void 0&&C))},[]);const d=n.useCallback(()=>{var u,h,w;return(w=(h=(u=document.fullscreenElement)!==null&&u!==void 0?u:document.webkitFullscreenElement)!==null&&h!==void 0?h:document.mozFullScreenElement)!==null&&w!==void 0?w:document.msFullscreenElement},[]),g=n.useCallback(()=>{const u=i.current;if(u)try{u.requestFullscreen?u.requestFullscreen().catch(()=>{}):u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.msRequestFullscreen&&u.msRequestFullscreen()}catch{}},[]),f=n.useCallback(()=>{if(d())try{document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}catch{}},[d]),E=n.useCallback(()=>{d()===i.current?l(!0):l(!1)},[d]);n.useEffect(()=>{const u=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];return u.forEach(h=>{document.addEventListener(h,E)}),()=>{u.forEach(h=>{document.removeEventListener(h,E)})}},[E]);const p=D(()=>{var u;return(u=o?g:null)===null||u===void 0?void 0:u()});n.useEffect(()=>(p(),()=>f()),[p,f]);const m=n.useMemo(()=>({fullscreen:s,disabled:a,enter:g,exit:f}),[s,a,g,f]);return n.useImperativeHandle(r,()=>m,[m]),n.createElement("div",{ref:i,className:U(S(ke),S(je))},n.createElement(ro.Provider,{value:m},t))}const mi=Y("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),pi=Y("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function gi(){var e;const{fullscreen:t,disabled:o,enter:r,exit:i}=fi(),{render:s}=W();return o?null:s.buttonFullscreen?n.createElement(n.Fragment,null,(e=s.buttonFullscreen)===null||e===void 0?void 0:e.call(s,{fullscreen:t,disabled:o,enter:r,exit:i})):n.createElement(be,{disabled:o,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?pi:mi,renderIcon:t?s.iconExitFullscreen:s.iconEnterFullscreen,onClick:t?i:r})}function hn({augment:e,contains:t,addParent:o}){e(({fullscreen:r,toolbar:i,...s})=>({toolbar:Fe(i,ke,n.createElement(gi,null)),fullscreen:oo(r),...s})),o(t(Ne)?Ne:Xe,J(ke,hi))}const fe={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0},kt=e=>({...fe,...e});function io(){const{thumbnails:e}=W();return kt(e)}const ce=e=>ge(Ne,e),X=e=>ce(ge("thumbnail",e)),vi=Y("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),bi=Y("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Ei({slide:e,render:t,rect:o,imageFit:r}){var i;const s=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:o,imageFit:r});if(s)return s;const l=S(X(Ze));return ye(e)?n.createElement(Re,{slide:e,render:t,rect:o,imageFit:r}):e.type==="video"?n.createElement(n.Fragment,null,"poster"in e&&n.createElement("img",{alt:"",src:e.poster,className:U(S(je),S(ce("contain_image")))}),n.createElement(vi,{className:l})):n.createElement(bi,{className:l})}const xi=ve("active"),lt=ve("fadein"),at=ve("fadeout"),_i=ve("placeholder"),mn="delay",pn="duration";function wi({slide:e,onClick:t,active:o,fadeIn:r,fadeOut:i,placeholder:s}){const{render:l,styles:a}=W(),{width:c,height:d,imageFit:g}=io(),f={width:c,height:d};return n.createElement("button",{type:"button",className:U(S(pe),S(X()),o&&S(X(xi())),r&&S(X(lt())),i&&S(X(at())),s&&S(X(_i()))),style:{...r?{[A(X(lt(pn)))]:`${r.duration}ms`,[A(X(lt(mn)))]:`${r.delay}ms`}:null,...i?{[A(X(at(pn)))]:`${i.duration}ms`,[A(X(at(mn)))]:`${i.delay}ms`}:null,...a.thumbnail},onClick:t},e&&Ei({slide:e,render:l,rect:f,imageFit:g}))}function gn(e){return["top","bottom"].includes(e)}function Ve(e,t,o){return t+2*(e.border+e.padding)+(o?e.gap:0)}function vn({visible:e,containerRef:t}){const o=n.useRef(null),{carousel:r,styles:i}=W(),{slides:s,globalIndex:l,animation:a}=oe(),{publish:c,subscribe:d}=Pe(),g=Ye(),f=io(),{position:E,width:p,height:m,border:u,borderRadius:h,padding:w,gap:C,vignette:L}=f,b=l,I=(a==null?void 0:a.duration)||0,x=I>0&&(a==null?void 0:a.increment)||0,{prepareAnimation:P}=mt(o,M=>({keyframes:gn(E)?[{transform:`translateX(${(g?-1:1)*Ve(f,p,!0)*x+M}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${Ve(f,m,!0)*x+M}px)`},{transform:"translateY(0)"}],duration:I,easing:a==null?void 0:a.easing})),R=D(()=>{let M=0;if(t.current&&o.current){const v=t.current.getBoundingClientRect(),T=o.current.getBoundingClientRect();M=gn(E)?T.left-v.left-(v.width-T.width)/2:T.top-v.top-(v.height-T.height)/2}P(M)});n.useEffect(()=>De(d(dt,R)),[d,R]);const y=An(r,s),k=[];if(yt(s)){if(x<0)for(let M=b-y+x;M<b-y;M+=1)k.push({slide:null,index:M,placeholder:!0});for(let M=b-y-Math.max(x,0);M<b;M+=1)r.finite&&M<0?k.push({slide:null,index:M,placeholder:!0}):k.push({slide:We(s,M),index:M});k.push({slide:We(s,b),index:b});for(let M=b+1;M<=b+y-Math.min(x,0);M+=1)!r.finite||M<=s.length-1?k.push({slide:We(s,M),index:M}):k.push({slide:null,index:M,placeholder:!0});if(x>0)for(let M=b+y+1;M<=b+y+x;M+=1)k.push({slide:null,index:M,placeholder:!0})}const N=M=>()=>{M>b?c(me,{count:M-b}):M<b&&c(he,{count:b-M})};return n.createElement("div",{className:U(S(ce("container")),S(pe)),style:{...e?null:{display:"none"},...p!==fe.width?{[A(X("width"))]:`${Ve(f,p)}px`}:null,...m!==fe.height?{[A(X("height"))]:`${Ve(f,m)}px`}:null,...u!==fe.border?{[A(X("border"))]:`${u}px`}:null,...h!==fe.borderRadius?{[A(X("border_radius"))]:`${h}px`}:null,...w!==fe.padding?{[A(X("padding"))]:`${w}px`}:null,...C!==fe.gap?{[A(X("gap"))]:`${C}px`}:null,...i.thumbnailsContainer}},n.createElement("nav",{ref:o,style:i.thumbnailsTrack,className:U(S(ce("track")),S(pe))},k.map(({slide:M,index:v,placeholder:T})=>{const F=I/Math.abs(x||1),$=x>0&&v>b+y-x&&v<=b+y||x<0&&v<b-y-x&&v>=b-y?{duration:F,delay:((x>0?v-(b+y-x):b-y-x-v)-1)*F}:void 0,H=x>0&&v<b-y||x<0&&v>b+y?{duration:F,delay:(x>0?x-(b-y-v):-x-(v-(b+y)))*F}:void 0;return n.createElement(wi,{key:v,slide:M,active:v===b,fadeIn:$,fadeOut:H,placeholder:!!T,onClick:N(v)})})),L&&n.createElement("div",{className:S(ce("vignette"))}))}const so=n.createContext(null),Ci=ne("useThumbnails","ThumbnailsContext",so);function yi({children:e,...t}){const[o,r]=n.useState(!0),i=n.useRef(null),{ref:s,position:l}=kt(t.thumbnails),a=n.useMemo(()=>({visible:o,show:()=>r(!0),hide:()=>r(!1)}),[o]);return n.useImperativeHandle(s,()=>a,[a]),n.createElement(Vn,{...t},n.createElement(so.Provider,{value:a},n.createElement("div",{ref:i,className:U(S(ce()),S(ce(`${l}`)))},["start","top"].includes(l)&&n.createElement(vn,{containerRef:i,visible:o}),n.createElement("div",{className:S(ce("wrapper"))},e),["end","bottom"].includes(l)&&n.createElement(vn,{containerRef:i,visible:o}))))}const lo=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Pi=Y("ThumbnailsVisible",lo()),Si=Bn("ThumbnailsHidden",lo());function Mi(){const{visible:e,show:t,hide:o}=Ci(),{render:r}=W();return r.buttonThumbnails?n.createElement(n.Fragment,null,r.buttonThumbnails({visible:e,show:t,hide:o})):n.createElement(be,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Pi:Si,renderIcon:e?r.iconThumbnailsVisible:r.iconThumbnailsHidden,onClick:e?o:t})}function bn({augment:e,contains:t,append:o,addParent:r}){e(({thumbnails:s,toolbar:l,...a})=>{const c=kt(s);return{toolbar:Fe(l,Ne,c.showToggle?n.createElement(Mi,null):null),thumbnails:c,...a}});const i=J(Ne,yi);t(ke)?o(ke,i):r(Xe,i)}function Ii(){const e=Co();return V.jsx(yo,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":At(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":At(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}function Ri({slides:e,disabledZoom:t,disabledVideo:o,disabledTotal:r,disabledCaptions:i,disabledSlideshow:s,disabledThumbnails:l,disabledFullscreen:a,onGetCurrentIndex:c,...d}){const g=e?e.length:0;return V.jsxs(V.Fragment,{children:[V.jsx(Ii,{}),V.jsx(Nr,{slides:e,animation:{swipe:240},carousel:{finite:g<5},controller:{closeOnBackdropClick:!0},plugins:Li({disabledZoom:t,disabledVideo:o,disabledCaptions:i,disabledSlideshow:s,disabledThumbnails:l,disabledFullscreen:a}),on:{view:({index:f})=>{c&&c(f)}},toolbar:{buttons:[V.jsx(ki,{totalItems:g,disabledTotal:r},0),"close"]},render:{iconClose:()=>V.jsx(le,{width:24,icon:"carbon:close"}),iconZoomIn:()=>V.jsx(le,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>V.jsx(le,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>V.jsx(le,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>V.jsx(le,{width:24,icon:"carbon:pause"}),iconPrev:()=>V.jsx(le,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>V.jsx(le,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>V.jsx(le,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>V.jsx(le,{width:24,icon:"carbon:fit-to-screen"})},...d})]})}function Li({disabledZoom:e,disabledVideo:t,disabledCaptions:o,disabledSlideshow:r,disabledThumbnails:i,disabledFullscreen:s}){let l=[dn,hn,fn,bn,un,cn];return i&&(l=l.filter(a=>a!==bn)),o&&(l=l.filter(a=>a!==dn)),s&&(l=l.filter(a=>a!==hn)),r&&(l=l.filter(a=>a!==fn)),e&&(l=l.filter(a=>a!==cn)),t&&(l=l.filter(a=>a!==un)),l}function ki({totalItems:e,disabledTotal:t}){const{currentIndex:o}=oe();return t?null:V.jsxs(Po,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[V.jsxs("strong",{children:[" ",o+1," "]})," / ",e]})}function Oi(e){const[t,o]=n.useState(-1),r=n.useCallback(s=>{const l=e.findIndex(a=>a.type==="video"?a.poster===s:a.src===s);o(l)},[e]),i=n.useCallback(()=>{o(-1)},[]);return{selected:t,open:t>=0,onOpen:r,onClose:i,setSelected:o}}export{Ti as L,Ri as a,Oi as u};
